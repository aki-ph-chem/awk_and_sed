# sedのメモ

sedのメモを書いておく

## 基本

### マッチした文字列を置換する

> $ echo "今川焼き"| sed 's/今/昔/'

> $ 昔川焼き

### マッチした文字列をすべて置換する

> $ echo "今日、今井と今川の土手で今川焼きを食べた" | sed 's/今/昔/g'

> $ 昔日、昔井と昔川の土手で昔川焼きを食べた

### 複数の置換を同時に行う

> $ echo "今川焼き" | sed 's/今/過去と未来の狭間/;s/川/山から海への流れ/'

> $ 過去と未来の狭間山から海への流れ焼き

### 置換時にマッチしたパターンを再利用

> $ echo "GitHub" | sed 's/GitHub/& vs GitLab/'

> GitHub vs GitLab

### １文字ずつ置換

> $ echo -e "apple\norange\nmelon" | sed 'y/aom/AOM/'

> Apple

> Orange

> Melon

### 交換

> $ echo "今昔ああいいうう" | sed -E 's/(今)(昔)/\2\1/'

> $ 昔今ああいいうう

### 最初にマッチしたパターンのみ置換

> $ echo -e "あいうえお\nかきくけこ\nあいうえお\nかきくけこ\nたちつてと" | sed '1,/かきくけこ/s/かきくけこ/ぱぴぷぺぽ/'

> $ あいうえお

> $ ぱぴぷぺぽ

> $ あいうえお

> $ かきくけこ

> $ たちつてと

### 指定範囲の行を削除

やり方１

> $  echo -e "あいうえお\nかきくけこ\nさしすせそ\nたちつてと" | sed '/あいうえお/,/かきくけこ/d'

> $ さしすせそ

> $ たちつてと

やり方2

> $ echo -e "あいうえお\nかきくけこ\nさしすせそ\nたちつてと" | sed '1,2d'

> $ さしすせそ

> $ たちつてと


やり方3

> $ echo -e "あいうえお\nかきくけこ\nさしすせそ\nたちつてと" | sed '/^あ./,/^か./d'

> $ さしすせそ

> $ たちつてと


### 指定範囲の行のみ表示

方法１

> $ echo -e "あいうえお\nかきくけこ\nさしすせそ\nたちつてと" | sed -n '/^あ./,/^か./p'

> $ あいうえお

> $ かきくけこ


方法2

> $ echo  "あいうえお\nかきくけこ\nさしすせそ\nたちつてと" | sed -n '1,2p'

指定行からさいごまで表示

> $ echo "あいうえお\nかきくけこ\nさしすせそ\nたちつてと" | sed -n '1,$'  


### 指定行以外を表示

> $ echo -e "あいうえお\nかきくけこ\nさしすせそ\nたちつてと" | sed -n '2,3!p'

> $ あいうえお

> $ たちつてと


### ファイル内の指定行にみ出力

> $ cat file | sed -n 10p
